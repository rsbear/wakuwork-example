export async function resolve(specifier,context,nextResolve){if(specifier.endsWith(".js")){for(const ext of[".js",".ts",".tsx",".jsx"]){try{return await nextResolve(specifier.slice(0,-3)+ext,context,nextResolve)}catch(e){}}}return await nextResolve(specifier,context,nextResolve)}export async function load(url,context,nextLoad){const result=await nextLoad(url,context,nextLoad);if(result.format==="module"){let{source}=result;if(typeof source!=="string"){source=source.toString()}const p=source.match(/(?:^|\n|;)("use (client|server)";)/);if(p){source=p[1]+source}return{...result,source}}return result}