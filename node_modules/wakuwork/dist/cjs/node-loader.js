"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _export(target,all){for(var name in all)Object.defineProperty(target,name,{enumerable:true,get:all[name]})}_export(exports,{resolve:()=>resolve,load:()=>load});async function resolve(specifier,context,nextResolve){if(specifier.endsWith(".js")){for(const ext of[".js",".ts",".tsx",".jsx"]){try{return await nextResolve(specifier.slice(0,-3)+ext,context,nextResolve)}catch(e){}}}return await nextResolve(specifier,context,nextResolve)}async function load(url,context,nextLoad){const result=await nextLoad(url,context,nextLoad);if(result.format==="module"){let{source}=result;if(typeof source!=="string"){source=source.toString()}const p=source.match(/(?:^|\n|;)("use (client|server)";)/);if(p){source=p[1]+source}return{...result,source}}return result}