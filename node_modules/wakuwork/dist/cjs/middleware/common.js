"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"pipe",{enumerable:true,get:()=>pipe});const pipe=middlewares=>(req,res,next)=>{const run=async index=>{const middleware=middlewares[index];if(!middleware){return next()}let alreadyCalled=false;await middleware(req,res,async()=>{if(!alreadyCalled){alreadyCalled=true;await run(index+1)}})};return run(0)};