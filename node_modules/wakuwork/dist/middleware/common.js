export const pipe=middlewares=>(req,res,next)=>{const run=async index=>{const middleware=middlewares[index];if(!middleware){return next()}let alreadyCalled=false;await middleware(req,res,async()=>{if(!alreadyCalled){alreadyCalled=true;await run(index+1)}})};return run(0)};